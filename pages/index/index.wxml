<!--index.wxml-->
<view class="page-tit">{{serveTit}}</view>
<view class="order-nav">
  <view bindtap="shiftServe" data-serve="ambulance" class="tab-item {{serveType==='ambulance'?'active':''}}">救护车</view>
  <view bindtap="shiftServe" data-serve="aviation" class="tab-item {{serveType==='aviation'?'active':''}}">航空</view>
  <view bindtap="shiftServe" data-serve="highSpeedRail" class="tab-item {{serveType==='highSpeedRail'?'active':''}}">高铁</view>
  <view bindtap="shiftServe" data-serve="helicopter" class="tab-item {{serveType==='helicopter'?'active':''}}">直升机</view>
</view>

<view class="main-form-wrap">
  <form class="main-form">
    <view class="form-group">
      <text >出发地</text>
      <view bindtap="showAddressSelect" id="startLocation" class="one-line-hide">{{beginAddress}}</view>
      <text bindtap="showAddressSelect" class="locate"></text>
    </view>
    <view class="form-group">
      <text >目的地</text>
      <view bindtap="showHospitalList" id="endLocation" class="one-line-hide" >{{endAddress}}</view>
      <text bindtap="showAddressSelect" data-type="endLocation" class="locate"></text>
    </view>
    <view class="form-group">
      <view>用车时间</view>
      <picker mode="date" value="{{date}}" start="2017-01-01" bindchange="bindDateChange">
        <view>{{date}}</view>
      </picker>
      <picker mode="time" value="{{time}}" bindchange="bindTimeChange">
        <view>{{time}}</view>
      </picker>
    </view>
  </form>
</view>

<view class="other-form-wrap">
  <view class="other-tit">配套服务</view>
  <view class="ambulance-serve">
    <view><switch></switch><text>呼吸机</text></view>
    <view>
      <switch></switch>
      <text>担架上楼</text>
      <picker-view indicator-style="height: 50px;" value="1">
        <picker-view-column>
          <view wx:for="{{floors}}" wx:key="{{index}}">{{item}}楼</view>
        </picker-view-column>
      </picker-view>
    </view>
  </view>
  <view class="next-step">
    <view class="agreement"><text>同意</text><checkbox></checkbox><text>医疗转运知情同意书</text></view>
    <button type="button" >下一步</button>
  </view>
</view>

<!--出发地地图选择组件-->
<view class="map-wrap" hidden="{{!isShowAddressSelect}}">
  <view class="suggestion">
    <view class="section">
      <view bindtap="hideBeginAddressSelect" class="back"></view>
      <input placeholder="输入关键字" value="{{editAddress}}" type="text"  bindinput="bindKeyInput"/>
      <view bindtap="selectAddressConform" data-address="{{editAddress}}" class="edit">确定</view>
    </view>
    <view hidden="{{hideSugInfo}}" class="sug_info">
      <view bindtap="selectAddress" data-item="{{item}}" wx:for="{{sugData}}" wx:key="{{item.uid}}">
        <view class="eqc"></view>
        <view class="content">
          <view class="tit">{{item.name}}</view>
          <view class="desc">{{item.city}}{{item.district}}</view>
        </view>
        <view class="right_arrow"></view>
      </view>
    </view>
  </view>
  <map hidden="{{!hideSugInfo}}" id="startlocate" longitude="{{locate.lng}}" latitude="{{locate.lat}}"  scale="14" controls="{{controls}}" bindcontroltap="controltap" markers="{{markers}}"  bindmarkertap="markertap"  bindregionchange="regionchange" show-location ></map>
</view>

<!--目的地医院选择组件-->
<view class="end-address-wrap" hidden="{{hideHospitalList}}">
  <view class="suggestion">
    <view class="section-city">
      <view bindtap="showUsualCity" class="city"><text>{{currentCity}}</text><view class="down_arrow"></view></view>
      <input placeholder="输入关键字" value="{{editAddress}}" type="text"  bindinput="bindKeyInput"/>
      <view bindtap="cancelChooseHospital" class="cancel">取消</view>
    </view>
    <view hidden="{{hideUsualCity}}" class="usual-city">
      <view class="active" wx:for="{{cityList.Usual}}" wx:key="{{item.areaid}}">{{item.areaname}}</view>
    </view>
    <view hidden="{{hideUsualCity}}" class="sug_info">
      <view bindtap="" data-item="{{item}}" wx:for="{{cityList.NEIDI}}" wx:key="{{item.areaid}}">
        <view class="eqc"></view>
        <view class="content">
          <view class="province-item">{{item.areaname}}</view>
        </view>
        <view class="right_arrow"></view>
      </view>
    </view>
    <view hidden="{{hideSugInfo}}" class="sug_info">
      <view bindtap="selectAddress" data-item="{{item}}" wx:for="{{sugData}}" wx:key="{{item.uid}}">
        <view class="eqc"></view>
        <view class="content">
          <view class="tit">{{item.name}}</view>
          <view class="desc">{{item.city}}{{item.district}}</view>
        </view>
        <view class="right_arrow"></view>
      </view>
    </view>

  </view>
</view>